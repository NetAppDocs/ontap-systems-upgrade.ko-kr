---
sidebar: sidebar 
permalink: upgrade-arl-auto-affa900/overview_of_the_arl_upgrade.html 
keywords: overview, arl, upgrade, owner, controller, hardware 
summary: AFF A700에서 AFF A900으로 ARL 컨트롤러 업그레이드 절차가 어떻게 작동하는지 이해합니다. 
---
= ARL 업그레이드 개요
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
ARL을 사용하여 노드를 업그레이드하기 전에 절차가 어떻게 작동하는지 이해해야 합니다. 이 콘텐츠에서는 절차가 여러 단계로 나뉩니다.



== 노드 쌍을 업그레이드합니다

노드 쌍을 업그레이드하려면 원래 노드를 준비한 다음 원래 노드와 새 노드 모두에서 일련의 단계를 수행해야 합니다. 그런 다음 원래 노드를 서비스 해제할 수 있습니다.



== ARL 업그레이드 시퀀스 개요

이 절차를 수행하는 동안, 원래 컨트롤러 하드웨어를 교체 컨트롤러 하드웨어로 한 번에 하나씩 업그레이드하여 HA 쌍 구성을 활용하여 루트 이외의 애그리게이트에 대한 소유권을 재배치합니다. 모든 비루트 애그리게이트에는 두 개의 재배치가 수행되어 마지막 대상에 도달해야 합니다. 이것이 올바른 업그레이드 노드입니다.

각 집합에는 홈 소유자와 현재 소유자가 있습니다. 홈 소유자는 애그리게이트의 실제 소유자이며 현재 소유자는 임시 소유자입니다.

다음 표에서는 각 단계에서 수행하는 상위 수준의 작업과 단계 종료 시 총 소유권의 상태를 설명합니다. 자세한 단계는 절차의 뒷부분에서 제공됩니다.

[cols="35,65"]
|===
| 단계 | 단계 


| link:verify_upgrade_hardware.html["1단계: 업그레이드 준비"]  a| 
. 업그레이드 하드웨어를 확인합니다
. 사전 점검을 실행하여 작업을 수행할 수 있는지 확인합니다
. 사전 검사에 실패한 경우 애그리게이트 소유권을 수정합니다
. 클러스터 기반 라이센스 키를 입력합니다
. 스토리지 암호화에 사용할 IP 주소를 가져옵니다
. KMIP(Key Management 운용성 프로토콜) 서버를 사용하여 인증 관리
. 온보드 키 관리자(OKM)를 사용하여 스토리지 암호화 관리
. SnapMirror 관계 중지(선택 사항)


1단계 종료 시 소유권 집계:

* 노드 1은 노드 1 애그리게이트의 홈 소유자이며 현재 소유입니다
* 노드 2는 노드 2 애그리게이트의 홈 소유자이며 현재 소유입니다




| link:relocate_non_root_aggr_and_nas_data_lifs_node1_node2.html["2단계: 노드 1에서 리소스를 재확보하고 AFF A700 또는 FAS9000 노드 1을 폐기합니다"]  a| 
. 노드 1이 소유한 루트 이외의 Aggregate 및 NAS 데이터 LIF를 노드 2로 재배치합니다
. 장애가 발생하거나 거부권을 행사한 Aggregate를 재배치합니다
. 노드1을 폐기합니다
. AFF A700 또는 FAS9000 컨트롤러 및 NVRAM 모듈을 제거합니다
. 노드1에 AFF A900 또는 FAS9500 NVRAM 및 컨트롤러 모듈을 설치합니다
. netboot 노드1


2단계 종료 시 소유권 집계:

* 노드 2는 노드 1 애그리게이트의 현재 소유자입니다
* 노드 2는 노드 2 애그리게이트의 홈 소유자이며 현재 소유입니다




| link:boot_node1_with_a900_controller_and_nvs.html["3단계: AFF A900 또는 FAS9500 컨트롤러 및 NVRAM 모듈을 사용하여 노드 1을 부팅합니다"]  a| 
. AFF A900 또는 FAS9500 컨트롤러 및 NVRAM 모듈을 사용하여 노드 1을 부팅합니다
. 노드 1이 성공적으로 설치되었는지 확인합니다
. 노드1 네트워크 구성을 복원합니다
. 업그레이드된 노드1에서 키 관리자 구성을 복원합니다
. 노드 1이 소유하는 루트 이외의 Aggregate 및 NAS 데이터 LIF를 노드 2에서 업그레이드된 노드 1로 이동합니다


3단계 종료 시 소유권 집계:

* 업그레이드된 AFF A900 또는 FAS9500 노드1은 노드1 애그리게이트의 홈 소유이자 현재 소유입니다
* 노드 2는 노드 2 애그리게이트의 홈 소유자이며 현재 소유입니다




| link:relocate_non_root_aggr_nas_lifs_from_node2_to_node1.html["4단계: node2에서 리소스를 재배치한 후 node2를 폐기합니다"]  a| 
. 루트 이외의 애그리게이트 및 NAS 데이터 LIF를 노드 2에서 노드 1로 재배치합니다
. 노드2를 폐기합니다


4단계 종료 시 소유권 집계:

* 업그레이드된 노드1은 노드1에 원래 속해 있는 애그리게이트의 홈 소유자 및 현재 소유입니다
* 업그레이드된 노드 1은 노드 2 애그리게이트의 현재 소유입니다




| link:install_a900_nvs_and_controller_on_node2.html["5단계: 노드2에 AFF A900 또는 FAS9500 NVRAM 및 컨트롤러 모듈을 설치합니다"]  a| 
. 노드2에 AFF A900 또는 FAS9500 NVRAM 및 컨트롤러 모듈을 설치합니다
. netboot 노드2


5단계 종료 시 소유권 집계:

* 업그레이드된 노드1은 노드1에 원래 속해 있는 애그리게이트의 홈 소유자 및 현재 소유입니다.
* 업그레이드된 노드2는 노드2에 원래 속해 있는 애그리게이트의 홈 소유자 및 현재 소유입니다.




| link:boot_node2_with_a900_controller_and_nvs.html["6단계: AFF A900 또는 FAS9500 컨트롤러 및 NVRAM 모듈을 사용하여 노드 2를 부팅합니다"]  a| 
. AFF A900 또는 FAS9500 컨트롤러 및 NVRAM 모듈을 사용하여 노드2를 부팅합니다
. 노드 2가 올바르게 설치되었는지 확인합니다
. 노드2 네트워크 구성을 복원합니다
. 루트 이외의 애그리게이트 및 NAS 데이터 LIF를 노드 2로 다시 이동합니다




| link:ensure_new_controllers_are_set_up_correctly.html["7단계: 업그레이드를 완료합니다"]  a| 
. 새 컨트롤러가 올바르게 설정되었는지 확인합니다
. 새 컨트롤러 모듈에서 스토리지 암호화를 설정합니다
. 새 컨트롤러 모듈에서 NetApp Volume Encryption 설정
. 기존 시스템을 폐기합니다.
. NetApp SnapMirror 작업을 재개합니다


|===